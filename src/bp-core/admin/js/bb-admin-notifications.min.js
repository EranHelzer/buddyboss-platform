!function(i){"use strict";var c={init:function(){this.showNotifications(),this.switchNotices(),this.dismissNotice()},showNotifications:function(){i(document).on("click","#bb-notifications-button",function(s){s.preventDefault(),i(this).closest(".bb-notifications-wrapepr").toggleClass("expanded"),c.checkNoticesCount()}),i(document).on("click",".close-panel-header",function(s){s.preventDefault(),i(this).closest(".bb-notifications-wrapepr").removeClass("expanded")})},switchNotices:function(){i(document).on("click",".panel-nav-list .switch-notices",function(s){s.preventDefault();var t=i(this),e=t.data("status"),s=t.closest(".bb-notifications-panel");t.closest("li").siblings().find(".switch-notices").removeClass("active"),t.addClass("active"),s.removeClass("all dismissed unread"),s.addClass(e),c.checkNoticesStatus()}),i(document).on("click",".panel-nav-dismiss-all",function(s){s.preventDefault();s=i(this).closest(".bb-notifications-panel");s.find(".bb-notice-block").removeClass("dismissed unread"),s.find(".bb-notice-block").addClass("dismissed"),c.checkNoticesStatus(),c.checkNoticesCount()}),c.checkNoticesStatus()},dismissNotice:function(){i(document).on("click",".bb-dismiss-notice",function(s){s.preventDefault();s=i(this).closest(".bb-notice-block");s.removeClass("dismissed unread"),s.addClass("dismissed"),c.checkNoticesStatus(),c.checkNoticesCount()})},checkNoticesStatus:function(){var s=i(".bb-notices-blocks-container"),t=s.find(".bb-notice-block");0===s.find(".bb-notice-block").length?s.closest(".bb-panel-body").addClass("empty"):s.closest(".bb-panel-body").removeClass("empty");var e=!0;t.each(function(){if(!i(this).hasClass("dismissed"))return e=!1}),e?s.closest(".bb-panel-body").addClass("all-dismissed"):s.closest(".bb-panel-body").removeClass("all-dismissed")},checkNoticesCount:function(){var s=i(".bb-notices-blocks-container").find(".bb-notice-block"),t=i("#show-active .count-unread"),e=0;0===s.length?e=0:s.each(function(){i(this).hasClass("unread")&&e++}),t.text("("+e+")")}};window.BuddyBossNoticeSystem=c,i(document).on("ready",function(){c.init()})}(jQuery);